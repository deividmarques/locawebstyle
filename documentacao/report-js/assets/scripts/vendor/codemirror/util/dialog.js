!function(){function t(t,e,i){var n,o=t.getWrapperElement();return n=o.appendChild(document.createElement("div")),n.className=i?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top",n.innerHTML=e,n}CodeMirror.defineExtension("openDialog",function(e,i,n){function o(){s||(s=!0,r.parentNode.removeChild(r))}var a,r=t(this,e,n&&n.bottom),s=!1,l=this,c=r.getElementsByTagName("input")[0];return c?(CodeMirror.on(c,"keydown",function(t){(13==t.keyCode||27==t.keyCode)&&(CodeMirror.e_stop(t),o(),l.focus(),13==t.keyCode&&i(c.value))}),c.focus(),CodeMirror.on(c,"blur",o)):(a=r.getElementsByTagName("button")[0])&&(CodeMirror.on(a,"click",function(){o(),l.focus()}),a.focus(),CodeMirror.on(a,"blur",o)),o}),CodeMirror.defineExtension("openConfirm",function(e,i,n){function o(){s||(s=!0,a.parentNode.removeChild(a),l.focus())}var a=t(this,e,n&&n.bottom),r=a.getElementsByTagName("button"),s=!1,l=this,c=1;r[0].focus();for(var d=0;d<r.length;++d){var u=r[d];!function(t){CodeMirror.on(u,"click",function(e){CodeMirror.e_preventDefault(e),o(),t&&t(l)})}(i[d]),CodeMirror.on(u,"blur",function(){--c,setTimeout(function(){0>=c&&o()},200)}),CodeMirror.on(u,"focus",function(){++c})}})}();