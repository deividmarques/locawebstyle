!function(){function t(t){function e(e,i,a){if(e.text){var o=l?0:e.text.length-1,s=l?e.text.length:-1;for(null!=a&&(o=a+c);o!=s;o+=c){var r=e.text.charAt(o);if(f.test(r)&&t.getTokenAt({line:i,ch:o+1}).type==d){var p=n[r];if(">"==p.charAt(1)==l)u.push(r);else{if(u.pop()!=p.charAt(0))return{pos:o,match:!1};if(!u.length)return{pos:o,match:!0}}}}}}var i=t.getCursor(),a=t.getLineHandle(i.line),o=i.ch-1,s=o>=0&&n[a.text.charAt(o)]||n[a.text.charAt(++o)];if(!s)return null;for(var r,l=">"==s.charAt(1),c=l?1:-1,d=t.getTokenAt({line:i.line,ch:o+1}).type,u=[a.text.charAt(o)],f=/[(){}[\]]/,p=i.line,h=l?Math.min(p+100,t.lineCount()):Math.max(-1,p-100);p!=h&&!(r=p==i.line?e(a,p,o):e(t.getLineHandle(p),p));p+=c);return{from:{line:i.line,ch:o},to:r&&{line:p,ch:r.pos},match:r&&r.match}}function e(e,i){var n=t(e);if(n){var a=n.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",o=e.markText(n.from,{line:n.from.line,ch:n.from.ch+1},{className:a}),s=n.to&&e.markText(n.to,{line:n.to.line,ch:n.to.ch+1},{className:a}),r=function(){e.operation(function(){o.clear(),s&&s.clear()})};return i?void setTimeout(r,800):r}}function i(t){t.operation(function(){a&&(a(),a=null),t.somethingSelected()||(a=e(t,!1))})}var n={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},a=null;CodeMirror.defineOption("matchBrackets",!1,function(t,e){e?t.on("cursorActivity",i):t.off("cursorActivity",i)}),CodeMirror.defineExtension("matchBrackets",function(){e(this,!0)}),CodeMirror.defineExtension("findMatchingBracket",function(){return t(this)})}();